<!DOCTYPE html>
<html lang="en">

<head>
    <script src='https://d3js.org/d3.v7.min.js'></script>
</head>

<body>
    <style>

        .rect_text  {
            visibility:hidden;
        }

        .info:hover + .rect_text {
            visibility:visible;
        }


    </style>

    <script>

        var data = ["circle", "rect"]


        d3.select('body')
            .selectAll('button')
            .data(data)
            .enter()
            .append('button')
            .attr('id', function(d) { return d; })
            .attr('type', 'button')
            .attr('onclick', 'shape(this)')
            .text(function(d) { return d; })
            .attr('value', function(d) { return d; })
            .attr('position', 'static');

        var svg = d3.select('body')
            .append('svg')
            .attr('width', 600)
            .attr('height', 600 )


        function shape(element, shape) {

            console.log("Called");
            
            if(element.value == "rect") {
                console.log("In funtion")
                var rect = svg.append('g')
                    .classed('container', true)
                
                
                rect.append('rect')
                    .classed('info', true)
                    .attr("x", 50)
                    .attr("y", 50)
                    .attr("width", 100)
                    .attr("height", 100)
                    .attr("fill", 'blue');

                rect.append("text")
                    .classed('rect_text', true)
                    .attr("x", '10')
                    .attr("y", '10')
                    .attr("dy", ".35em")
                    .text("This is a rectangle");
                
                svg.selectAll("circle")
                    .remove()
            }



            else if(element.value == "circle") {
                var circle = svg.append('g')
                    .classed('container', true)

                circle.append("circle")
                    .classed('info', true)
                    .attr("cx", 75)
                    .attr("cy", 75)
                    .attr("r", 50)
                    .attr("fill", 'blue');

                circle.append("text")
                    .classed('rect_text', true)
                    .attr("x", '10')
                    .attr("y", '10')
                    .attr("dy", ".35em")
                    .text("This is a circle");

                svg.selectAll("rect")
                    .remove()
            }



        }




    </script>



</body>

</html>
